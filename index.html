<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Juego Educativo</title>       
     <style type="text/css">
        body {
            margin: 0;
        }
    </style> 
    <script src="node_modules/phaser/dist/phaser.js"></script>    
</head>
<body>
    
<script type="text/javascript">
class SceneA extends Phaser.Scene {

constructor ()
{
    super({ key: 'sceneA' });
}

preload ()
{
    this.load.image('lv1', 'assets/lv 1.png');
    this.load.image('lv2', 'assets/lv 2.png');
    this.load.image('lv3', 'assets/lv 3.png');
}

create ()
{
    
    var lv1Click = this.add.image(200, 200, 'lv1').setInteractive().setDisplaySize(50,50);
    var lv2Click = this.add.image(400, 200, 'lv2').setInteractive().setDisplaySize(50,50);
    var lv3Click = this.add.image(600, 200, 'lv3').setInteractive().setDisplaySize(50,50);
    
    
    lv1Click.on('pointerdown', function(){                       
        this.scene.start('sceneB');    
    }, this);

    lv2Click.on('pointerdown', function(){                       
        this.scene.start('sceneC');    
    }, this);
    
    lv3Click.on('pointerdown', function(){                       
        this.scene.start('sceneB');    
    }, this);

}

}
var doc
class SceneB extends Phaser.Scene { 

constructor ()
{
    super({ key: 'sceneB' });
}

preload ()
{
    this.load.html('html', 'iframelv1.html');
}

create ()
{
    this.add.dom(400 ,240).createFromCache('html');    
    var x = document.getElementById("iframeid");
    doc = (x.contentWindow || x.contentDocument);
}

update(){    
    if(doc.score==="menu"){                             
        this.scene.start('sceneA');        
    }
    //comparto la variable score para compartir los diferentes escenarios.
    //console.log(doc.score );
}

}
class SceneC extends Phaser.Scene { 

constructor ()
{
    super({ key: 'sceneC' });
}

preload ()
{
    this.load.html('html', 'iframelv2.html');
}

create ()
{
    this.add.dom(400 ,240).createFromCache('html');    
    var x = document.getElementById("iframeid");
    doc = (x.contentWindow || x.contentDocument);
}

update(){    
    //comparto la variable score para compartir los diferentes escenarios.
    //console.log(doc.score );
}

}
var config = {
    type: Phaser.AUTO,
    dom: {
        createContainer: true
    },
    scale: {
        mode: Phaser.Scale.FIT,
        parent: 'phaser-example',
        autoCenter: Phaser.Scale.CENTER_BOTH,
        width: 800,
        height: 480
    },
    physics: {
        default: 'arcade',
        arcade: {
            //gravity: { y: -300 },
            debug: false
        }
    },  
    scene: [ SceneA, SceneB, SceneC ]
};
// declaro la creacion del juego
var game = new Phaser.Game(config);

/* function preload ()
{
    this.load.html('html', 'prueba3.html');
}

function create ()
{    
    element = this.add.dom(400 ,240).createFromCache('html');
} */

</script>
</body>
</html>